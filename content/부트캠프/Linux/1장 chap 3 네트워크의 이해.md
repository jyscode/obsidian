
### OSI 7계층

ISO에서 개발한 컴퓨터 네트워크 프로토콜 디자인과 통신을 7계층으로 나누어 정의


1. 물리계층
`실제 장비들을 연결하기 위해 필요한 케이블 및 연결 장치 등과 같은 기계적인 항목`
`bit 형태로 전송`
`허브, 리피터가 1계층에 속함`


2. 데이터링크 계층
`상위 계층인 네트워크 계층에서 받은 데이터를 논리적인 단위로 구성하고 필요한 정보를 덧붙여 물리계층으로 전달`
`전송 단위 frames
`장치에 인접한 MAC 주소 전달, 전송제어, 오류제어 등의 역할을 한다.`
`브리지, 스위치가 2계층에 속함`


3. 네트워크 계층
`데이터를 패킷 단위로 구분하여 전송, 경로를 담당`
`라우터가 3계층에 속함`

4. 전송 계층
`데이터 전송에 대한 서비스를 제공, 송신 측과 수신 측 사이의 연결 설정 및 유지, 오류복구 흐름제어`
`전송 단위 segments`
`전체 매시지에 전송을 책임짐`
`TCP와 UDP가 4계층에 속함`

5. 세션 계층
`응용 프로그램 간의 통신을 관리하기 위한 방법과 동기화를 유지`


6. 표현 계층
`전송하는 데이터의 표현 방식 해석, ex) ASCII, EBCDIC`

7. 응용 계층
`응용프로그램과 연계하여 사용자에게 편리한 환경을 제공, 일반적인 사용하는 서비스`



---

### Ethernet / LAN 이해


LAN : 가까운 지역을 네트워크 매체를 이용하여 묶는 근거리 통신망, 현재는 이더넷을 사용하여 구성


LAN의 구성방식

- 스타형
중앙에 위치한 중앙 컴퓨터가 각 컴퓨터에 통신하는 방식, 중앙컴과 Point to Point 방식으로 연결
중앙 네트워크 문제 발생시 전체 네트워크 중단, 설치 비용이 많이 듬

- 버스형
하나의 통신회선에 여러 컴퓨터를 연결하여 전송, 한번에 한 컴퓨터만 전송할 수 있어 성능 문제
구조가 간단하여 설치 비용 저렴, CSMA/CD와 토큰 패싱 사용

- 링형
원형의 통신회선에 단말기를 연결, 앞의 컴퓨터에게 수신한 내용을 다음 컴퓨터에 재전송
충돌이 없음, 노드의 추가 어려움, 문제 발생시 전체 네트워크 중단 가능성

- 망형
스타형과 링형이 혼합된 형태, 각 네트워크 장비가 여러 개의 인터페이스 요구
설치 비용이 많이 듬, 신뢰성이 높음


**LAN 전송 방식**

이더넷과 CSMA/CD

이더넷은 LAN을 위해 개발된 네트워크 기술로 각 기기들이 MAC주소를 기반으로 서로간의 데이터를 주고받을 수 있게 해준다.
CSMA/CD는 전송 신호 유무를 파악하여 충돌을 피해 전송하는 기법


토큰링

링 형식으로 데이터는 한쪽 방향으로 흐르도록하여 사용


---

### TCP/IP 네트워크 프로토콜의 이해

프로토콜의 개요
`컴퓨터 상호간에 통신을 위해 미리 정해놓은 특별한 통신규약`

프로토콜의 기본 구성 요소 3가지
`구문, 의미, 순서`

프로토콜 제정 기관
ISO - osi7
IEEE - 전기 및 전자공학 전문가들로 구성된 조직, IEEE 802
ANSI - 대표적으로 ASCII
EIA - 미국 전자 산업 협회 , RS-232C
ITU-T 전기통신 표준화


**TCP UDP**

TCP - 연결지향 전송 프로토콜로 ACK을 주고 받음으로 점검, 많은 전송시간
UDP - 비연결 전송 프로토콜, segments를 보내기만하고 ACK를 주고받지 않는다

`프로토콜 번호 확인 /etc/protocols`
`포트 번호 확인 /etc/services`

포트 0 ~ 65535 사용 가능

0~ 1023 well-known port 


---

### 주요 명령어

netstat - 네트워크의 연결 상태를 출력

모든 소켓의 PID 및 프로그램명을 출력하고 호스트명, 포트명 등은 숫자값으로 출력
`netstat -anp`

라우팅 테이블 정보
`netstat -r`

arp - arp 캐시를 관리하는 명령

ip주소와 mac주소를 연결한 리스트 출력

ping - ICMP를 사용하여 네트워크 연결을 확인

traceroute - 패킷이 특정 호스트까지 라우팅되는 과정을 출력

nslookup - DNS를 이용하여 도메인이나 IP조회

hostname - 호스트네임을 출력하거나 설정

mil-tool - 네트워크 인터페이스의 상태를 점검, 설정(네트워크 장치에 대한 정보)

ethool - 이더넷 카드 설정 정보 출력, 변경

ip - 이더넷 장치, IP 주소, 라우팅 정보 등의 설정 정보 출력, 변경
`ip addr vs ifconfig : ip addr은 CIDR가 표시, ifconfig는 CIDR이 없음`

ss - 소켓 상태를 출력 netstat과 유사, 포트 번호가 나옴

telnet - 텔넷 연결(23port)

ftp - 파일 전송(21port)

---

### 네트워크 관련 파일


`/etc/sysconfig/network`
네트워크 사용 유무, 호스트명, 게이트웨이 주소 설정

`/etc/sysconfig/network-script 디렉터리`
네트워크 인터페이스 장치 환경설정과 관련된 파일 존재 ex) ifcfg-eth0

`/etc/resolv.conf`
시스템에서 사용하는 네임 서버(DNS) 설정 파일

`/etc/hosts`
IP주소와 호스트명을 매핑









